# 8.6.2 域字典（Field Dictionaries）

文档交互表单中的每个字段都应由域字典(Field Dictionaries)定义，域字典应是间接对象。 字典可以按分层组织的形式组成一个或多个树型结构。 许多字段属性是可继承的，这意味着如果没有为给定字段显式指定它们的属性，可以从字段层次结构中的父项继承过来。 此类可继承属性应在**表8.69**和**表8.70**中指定。



表 8.69 所有域字典集（Field Dictionaries）的公共条目

| Key    | Type        | Value                                                                                                                                                                                                  |
| ------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| FT     | name        |  （叶节点字段必需;可继承）此字典描述的字段类型：**Btn**：按钮（见“按钮字段”）;**Tx**：文本（见“文本字段”）;**Ch**：选择（“选择字段”）；**Sig**：（PDF 1.3）签名（见“Signature Field”）。该条目可以存在于中间节点中，以提供可继承的 FT 值。 但是，中间节点在逻辑上不具有自己的类型; 它只是一个可继承属性的容器，用于任何类型的后代叶节点。 |
| Parent | dictionary  | （如果此字段是中间节点或页节点，则为必需;否则该字段不存在）该字段的直接父项（其Kids数组包含此字段）。 一个字段最多只能有一个父项。                                                                                                                                   |
| Kids   | array       | （如果属于下列情况，则必需）直接子节点的间接引用数组。 在非页节点字段中，Kids数组应引用作为该字段的直接后代的字段字典。 在叶节点字段中，Kids数组通常应引用与该字段关联的一个或多个单独的 widget 窗口小部件注释。 但是，如果只有一个关联的 widget 窗口小部件注释，并且其内容合并到字段字典中，则应省略Kids。                                  |
| T      | text string | （如果属于下列情况，则必需）直接子节点的间接引用数组。 在非页节点字段中，Kids数组应引用作为该字段的直接后代的字段字典。 在叶节点字段中，Kids数组通常应引用与该字段关联的一个或多个单独的 widget 窗口小部件注释。 但是，如果只有一个关联的 widget 窗口小部件注释，并且其内容合并到域字典中，则应省略Kids。                                   |
| TU     | text string | （可选; PDF 1.3）替代字段名称，例如引用该字段的错误或状态消息时，应使用替代字段名称代替实际字段名称。 在提取文档内容以支持残障用户或其他目的的可访问性时，此文本也很有用。                                                                                                             |
| TM     | text string | （可选的；PDF 1.3）当从文档导出交互式表单字段数据时应使用的映射名称。                                                                                                                                                                 |
| Ff     | integer     | （可选的；可继承的）指定字段的各种特性的一组标志（见表2）。默认值：0。                                                                                                                                                                   |
| V      | (various)   | （可选的；可继承的）字段的值(Field Value)，其格式根据字段类型不同而不同。                                                                                                                                                            |
| DV     | (various)   | （可选的；可继承的）在执行重置表单操作时，字段恢复到的默认值（参见“重置表单操作”）。这个值的格式与V的格式相同。                                                                                                                                              |
| AA     | dictionary  | （可选的）触发事件字典                                                                                                                                                                                            |

域字典的Ff条目的值，是一个无符号的32位整数，包含指定字段各种特性的标志。标志字的bit位置应从1（低阶）到32（高阶）。下表中标志显示的是对于所有类型的字段都是通用的部分。对于特定字段类型的标志在描述这些类型对象时再介绍。所有未定义的标志位应保留并设置为0。



表 8.70 所有域类型的公共域标志

| Bit position | 名称       | 含义                                    |
| ------------ | -------- | ------------------------------------- |
| 1            | ReadOnly | 如果设置，用户不能修改字段的值。                      |
| 2            | Required | 如果设置，在执行 Submit-Form 提交表单动作时，需要导出字段值。 |
| 3            | NoExport | 如果设置，在执行 Submit-Form 提交表单动作时，不能导出字段值。 |
