# 8.4.1 注释字典 (Annotation Dictionaries)

页面对象(Page Object)(参见第144页的“page Objects”)中的可选annots条目保存了一个注释字典数组，每个注释字典表示与给定页面相关联的注释。表8.15列出了所有注释字典中通用的必选和可选项。字典可能包含特定于特定注释类型的附加条目;具体请参见8.4.5章节“注释类型”中对各个注释类型的描述。

注意：给定的注释字典只能从一个页面的anots数组中引用。尝试在多个页面之间共享注释字典会产生不可预知的行为。这个要求只适用于注释字典本身，而不适用于附属对象，它们可以在多个注释之间共享而不会造成任何困难。

**表8.15 所有注释字典通用条目**

| KEY          | TYPE                | VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------ | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Type         | name                | <p>(可选)该字典描述的PDF对象的类型;如果存在,</p><p>注释字典必须是Annot。</p>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Subtype      | name                | <p>(必选)该字典描述的注释类型;见表8.20</p><p>参阅第615页的特定值。</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Rect         | rectangle           | <p>(必选)注释矩形，定义注释的位置</p><p>以默认用户空间单位显示的页面。</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Contents     | text string         | （可选）要为注释显示的文本，或者，如果这种类型的注释不显示文本，则使用可读形式的注释内容的替代描述。在任何一种情况下，当提取文档内容以支持残疾用户的可访问性或用于其他目的(见第10.8.2节，“Alternative Descriptions”)时，这段文本都是有用的。关于每个注释类型的条目含义的更多细节，请参见章节8.4.5“注释类型”                                                                                                                                                                                                                                                                                                                       |
| P            | dictionary          | <p>(可选;PDF 1.3;在FDF文件中未使用)对与此注释关联的页面对象的间接引用。</p><p>注:此条目用于与翻译相关的Screen Annotations (PDF 1.5;请参阅第639页的“Screen Annotations”和第639页的“Rendition Actions”</p><p>668页)。</p>                                                                                                                                                                                                                                                                                                                             |
| NM           | text string         | (可选;PDF1.5) 注释名称，在它的页面上的所有注释中，唯一标识它的文本字符串。                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| M            | date or text string | <p>(可选;PDF1.1)注释最近的日期和时间修改。首选格式是日期字符串，如章节3.8.3所述，“日期”，但查看器应用程序应该准备接受并显示</p><p>任何格式的字符串。(见附录h实施说明78)</p>                                                                                                                                                                                                                                                                                                                                                                                          |
| F            | integer             | (可选;PDF 1.1)一组标记，指定注释的各种特征(参见8.4.2节“注释标记”)。默认值:0。                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| AP           | dictionary          | (可选;PDF 1.2)一个描述注释如何在页面上显示的外观字典(参见8.4.4节，“Appearance Stream”以及附录H中的实现注释79)。单个注释处理程序可能会忽略此条目，并提供自己的外观。                                                                                                                                                                                                                                                                                                                                                                                            |
| AS           | name                | (如果外观字典AP包含一个或多个子字典，则必需;PDF 1.2)注释的外观状态，它从外观子字典中选择适用的外观流(见8.4.4节“Appearance Streams”和附录H中的实现注释79)。                                                                                                                                                                                                                                                                                                                                                                                               |
| Border       | array               | <p>(可选)指定注释边界特征的数组。</p><p>边框被指定为圆角矩形。在PDF 1.0中，该数组由定义水平角的三个数字组成,分别是半径(horizental radio)，直角半径和边框宽度，都是默认的用户空间单位。如果角半径为0，表示边界有正方形(不是圆角)角;如果边框宽度为0，未绘制边框。(见附录H.实施说明81)</p><p>在PDF 1.1中，数组可能有第四个元素，一个可选的Dash Array，它定义了用于绘制边框的破折号和间隙模式。Dash Array的指定格式与图形状态的Line Dash Pattern参数相同(参见第217页的“Line Dash Pattern”)。例如，Border值[0 0 1[3 2]]指定Border 1单位宽，带有正方形边角，</p><p>用3单位的Dash与2单位的gap交替绘制。注意，没有Dash阶段指定;相位假定为0。(见附录H82)注意:在PDF 1.2或更高版本中，这个条目可能会被忽略，而有利于BS条目(参见以上);参见附录H的实施说明82。</p><p>默认值:[0 0 1]。</p> |
| C            | array               | <p>(可选;PDF 1.1) </p><p>一组范围在0.0到1.0之间的数字，</p><p>表示a 用于以下用途的颜色:</p><p>•关闭注释图标时的背景</p><p>•注释弹出窗口的标题栏</p><p>•链接注释的边界</p><p>数组元素的数量决定了颜色所在的颜色空间</p><p>定义:没有颜色;透明的</p><p>1 DeviceGray</p><p>3 DeviceRGB</p><p>4 DeviceCMYK</p>                                                                                                                                                                                                                                                                        |
| StructParent | integer             | <p>(如果注释是结构性内容项，则必须;PDF 1.3)</p><p>在结构父树中注释条目的整数键(请参阅第868页的“从内容项中查找结构Elements”)。</p>                                                                                                                                                                                                                                                                                                                                                                                                            |
| OC           | dictionary          | (可选;一个可选的内容组或可选的内容成员字典(参见4.10节，“Optional Content”)，指定注释的可选内容属性。在绘制注释之前，它的可见性是根据该条目以及F条目中指定的注释标记来确定的(参见8.4.2节，“Annotation Flag”)。如果确定它是不可见的，则跳过注释，就像它不在文档中一样。                                                                                                                                                                                                                                                                                                                                     |
