# 5.2.5 文本渲染模式

文本渲染模式Tmode决定显示文本是会导致字形轮廓被抚摸、填充、用作剪切边界，还是三者的某种组合。对文本对象，抚摸、填充和剪切对路径对象的效果与对路径对象的效果相同（参见第4.4.2节“路径绘制操作符”和4.4.3节“剪切路径操作符”），尽管它们以完全不同的方式指定。影响这些操作的图形状态参数，如行宽，可以在用户空间中进行解释，而不是在文本空间中进行解释。

注：文本渲染模式对以类型3字体显示的文本没有影响（请参见第5.5.4节，“类型3字体”）。

文本渲染模式见表5.3。在这些示例中，使用了黑色的笔画颜色和浅灰色的填充颜色。对于剪切模式（4到7），通过符号绘制了一系列线，以显示剪切发生的位置。

如果文本渲染模式需要填充，则使用图形状态下的当前非填充颜色；如果需要填充，则使用当前填充颜色。在同时执行填充和抚摸的模式中，效果就好像每个字形轮廓都被填充，然后在单独的操作中被抚摸一样。如果任何一个符号重叠，结果相当于填充和一次抚摸它们一个，产生堆叠的不透明符号的外观，而不是首先填充，然后一次抚摸它们(见附录H中的实现说明57)。在透明成像模型中，这些组合的填充和抚摸模式需要进一步考虑；参见第569页的“特殊路径绘画考虑”。

剪切模式的行为需要进一步的解释。如果在文本呈现模式设置为剪切模式时执行BT操作符，或在文本对象中设置为剪切模式，字形轮廓将开始累积。图形将不断积累，直到文本对象由ET操作符结束；在此之前，文本渲染模式不能更改为非剪切模式。

![](<../../.gitbook/assets/image (24).png>)

在文本对象的末尾，累积的字形轮廓，如果有的话，被组合成一条路径，将各个轮廓视为该路径的子路径，并应用非零缠绕数规则（参见第232页的“非零缠绕数规则”）。图形状态下的当前剪切路径被设置为此路径与以前的剪切路径的交集。与路径对象的情况一样，此剪切发生在对文本对象的所有填充和跟踪操作之后。直到调用Q操作符恢复之前的剪切路径。注：如果没有显示符号，或者仅显示的符号没有轮廓（例如，如果它们是空格字符），则不会发生剪切。



