# 5.3.2 文本显示操作符（Text-Showing Operators）

![](<../../.gitbook/assets/image (28).png>)文本显示操作符（表5.6）在页面上显示文本，并在此操作时重新定位文本空间。所有的操作符都可以解释文本字符串，并应用文本状态参数，如下所述。

表5.6文本显示操作符

| 操作数          | 操作符   | 描述                                                                                                                                                                                                                                                               |
| ------------ | ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| string       | Tj    | 显示文本字符串。                                                                                                                                                                                                                                                         |
| string       | **'** | 移动到下一行，并显示一个文本字符串。此操作符与代码具有相同的效果![](<../../.gitbook/assets/image (36).png>)                                                                                                                                                                                      |
| aw ac string | "     | <p>移动到下一行并显示一个文本字符串，使用aw作为单词间距，使用ac作为字符间距（在文本状态下设置相应的参数）。Aw和ac是用未缩放的文本空间单位表示的数字。此操作符的效果与以下代码相同：</p><p><img src="../../.gitbook/assets/image (31).png" alt=""></p>                                                                                                |
| array        | TJ    | 显示一个或多个文本字符串，允许各个符号定位（请参见附录H中的实现说明58）。数组中的每个元素都可以是一个字符串或一个数字。如果元素是字符串，则此操作符将显示该字符串。如果是一个数字，操作员将按该数字调整文本位置；也就是说，它可以转换文本矩阵Tm。该数字以文本空间单位的千分之一表示(参见附录H中的5.3.3节“文本空间详细信息”和实现说明59)。根据写入模式，从当前的水平或垂直坐标中减去此量。在默认坐标系中，正调整具有将下一个绘制的符号向左或向下移动给定量的效果。图5.11显示了将偏移量传递给TJ的效果示例。 |

![](<../../.gitbook/assets/image (40).png>)

注：文本显示操作符只能出现在文本对象中。

文本显示操作符的字符串操作数被解释为标识要绘制的符号的字符代码序列。对于大多数字体类型，字符串的每个字节都被视为一个单独的字符代码。然后在字体的编码中查找字符代码以选择符号，如第5.5.5节“字符编码”所述。

从PDF1.2开始，一个字符串可以以复合字体显示，它使用多字节代码来选择其一些符号。在这种情况下，字符串中的一个或多个连续字节被视为单个字符代码。代码长度和从代码到符号的映射在一个称为CMap的数据结构中定义，在第5.6节“复合字体”中描述。

字符串必须符合字符串对象的语法。当将字符串写入10时，将数据包含在括号中，这些字节的值与ASCII字符左括号(40)、右括号(41)和反斜杠(92)的值相同前必须有一个反斜杠字符。所有其他字节值在0之间255可以用于字符串对象。这些规则适用于每个单独的字节在字符串对象中，字符串是否由文本显示操作符解释如单字节或多字节字符码。

呈现给文本显示操作符的字符串可以是任何长度，甚至每个字符串只有一个字符代码，并且可以以任何顺序放在页面上。将符号分组成字符串对文本没有重要意义。使用像Tj这样的文本显示操作符的一次调用显示多个符号，将产生与对每个符号单独调用显示它们相同的结果。但是，如果文本字符串尽可能长，并以自然阅读顺序显示，那么文本搜索（和其他文本提取操作）的性能就会显著更好。

注：在某些情况下，所提取的文本可能会根据将符号分组为字符串的不同而有所不同。例如，请参见第890页上的“反向顺序显示字符串”。
