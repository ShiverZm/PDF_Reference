# 3.4.7.1 交叉引用流字典

\
除了所有流(表3.4)和预告字典(表3.13)所共有的条目外，交叉引用流还包含表3.15中所示的条目。由于消费者应用程序需要交叉引用流中的一些信息来构建允许间接引用被解析的索引，所以交叉引用流中的条目受到以下限制：

* 表3.15中所示的所有条目的值必须为直接对象；不允许进行间接引用。对于数组（**Index和W条目**），它们的所有元素也必须是直接对象。如果对流进行了编码，则表3.4中的“**Filter**”和“**DecodeParms**”条目也必须是直接对象。另见附录H中的实施说明20。

&#x20;       注：表3.15中未列出的其他交叉引用流条目可能是间接的，事实上，有些（如表3.13中的Root）需要是间接的。

* 交叉引用流不能被加密，也不能在交叉引用流字典中出现任何字符串。它不能有指定密码过滤器的过滤器条目（请参见3.3.9，“密码过滤器”）。

**表 3.15 特定于交叉引用流字典的附加条目**

| KEY   | TYPE    | DESCRIPTION                                                                                                                                                                                                                                                    |
| ----- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Type  | name    | （必填）此字典所描述的PDF对象的类型；必须是交叉引用流的XRef。                                                                                                                                                                                                                             |
| Size  | integer | （必填）大于本节或将其作为更新的任何节中使用的最高对象编号的数字1。它相当于trailer字典中的**Size**条目                                                                                                                                                                                                    |
| Index | array   | （可选）本节中每个小节中包含一对整数的数组。第一个整数是子节中的第一个对象数；第二个整数是子节中的条目数。数组按对象数按升序排序。小节不能重叠；对象编号最多只能有一个条目。默认值：\[0 **Size**]。                                                                                                                                                       |
| Prev  | integer | （仅在文件有多个交叉引用流时存在；对混合引用文件没有意义；请参见第109页上的“与不支持PDF1.5的应用程序的兼容性”）从文件开始到前一个交叉引用流开始的字节偏移量。此条目的与预告片字典中的Prev条目具有相同的功能（表3.13）。（另请参见附录H中的实施说明21）                                                                                                                         |
| W     | array   | （必填）表示单个交叉引用条目中字段大小的整数数组。表3.16描述了条目的类型及其字段。对于PDF1.5，W总是包含三个整数；每个整数的值是对应字段的字节数（在解码流中）。例如，\[1 2 1]表示这些字段分别为一个字节、两个字节和一个字节。W数组中的元素的值为0表示流的字段中不存在相应的字段，如果有一个，则使用默认值。如果第一个元素为零，则类型字段不存在，并且默认为类型1。项之和是每个条目的总长度；它可以与索引数组一起用于确定每个小节的起始位置。注意：PDF文件中不同的交叉引用流可能会对W使用不同的值。 |

